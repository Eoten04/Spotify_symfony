{% extends 'base.html.twig' %}

{% block title %}Créer un compte{% endblock %}

{% block body %}
    <div class="container">
        <h1>Créer un compte</h1>

        {% if success %}
            <div class="alert alert-success">
                ✅ Compte créé avec succès ! <a href="{{ path('app_login') }}">Se connecter maintenant</a>
            </div>
        {% endif %}

        {% if error %}
            <div class="alert alert-error">
                {{ error }}
            </div>
        {% endif %}

        <form method="post">
            <div>
                <label for="email">Email</label>
                <input
                        type="email"
                        id="email"
                        name="email"
                        required
                        autocomplete="email"
                        value="{{ app.request.get('email') }}"
                >
            </div>

            <div>
                <label for="password">Mot de passe</label>
                <input
                        type="password"
                        id="password"
                        name="password"
                        required
                        autocomplete="new-password"
                        minlength="6"
                >
                <small>Minimum 6 caractères</small>
            </div>

            <div>
                <label for="password_confirm">Confirmer le mot de passe</label>
                <input
                        type="password"
                        id="password_confirm"
                        name="password_confirm"
                        required
                        autocomplete="new-password"
                        minlength="6"
                >
            </div>

            <button type="submit">Créer mon compte</button>
        </form>

        <div>
            Vous avez déjà un compte ? <a href="{{ path('app_login') }}">Se connecter</a>
        </div>
    </div>
{% endblock %}